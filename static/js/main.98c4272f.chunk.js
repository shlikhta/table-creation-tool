(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),r=a.n(n),c=a(6),l=(a(13),a(2)),o=a(4),i=function(e){var t=e.title,a=e.count,s=e.setSeats,n=e.desc,c=Object(l.a)(e,["title","count","setSeats","desc"]);return r.a.createElement("div",Object.assign({className:"table-seats-tool"},c),t&&r.a.createElement("h2",{className:"table-seats-tool__title"},t),r.a.createElement("div",{className:"table-seats-tool__counter"},r.a.createElement("button",{className:"table-seats-tool__button",onClick:function(){return s(a>0?a-1:0)}},"-"),r.a.createElement("div",{className:"table-seats-tool__count"},a),r.a.createElement("button",{className:"table-seats-tool__button",onClick:function(){return s(a<30?a+1:30)}},r.a.createElement(o.b,{width:18,strokeWidth:2}))),n&&r.a.createElement("div",{className:"table-seats-tool__info"},r.a.createElement(o.a,{className:"table-seats-tool__info-icon"}),r.a.createElement("p",null,n)))},u=a(3),f=function(e){var t=e.seatsCount,a=void 0===t?0:t,c=Object(l.a)(e,["seatsCount"]),o=Object(n.useState)({seats:[],svgSize:120,tableSize:108,tableOffset:6,seatWidth:26,seatHeight:18,seatOffsetY:3,seatRx:7,spaceBetweenSeats:6}),i=Object(s.a)(o,2),f=i[0],h=i[1];return Object(n.useEffect)(function(){var e=[],t=54,s=120,n=f.spaceBetweenSeats,r=f.seatWidth,c=f.seatHeight,l=f.tableOffset,o=f.seatOffsetY;if(a>0){2*Math.PI*t-a*(r+n)<=0&&(t=a*(r+n)/(2*Math.PI),s=2*(t+l));for(var i=s/2,m=s/2,d=0;d<a;d++){var S=360/a*d+90,b=2*Math.PI*d/a,g=Math.cos(b)*t+i,v=Math.sin(b)*t+m,w=g-r/2,E=v+o-c/2;e.push({id:"seat_".concat(d),step:b,rotate:S,seatCenterX:g,seatCenterY:v,seatStartX:w,seatStartY:E})}}h(function(a){return Object(u.a)({},a,{seats:e,svgSize:s,tableSize:2*t})})},[a]),r.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:f.svgSize,height:f.svgSize,viewBox:"0 0 ".concat(f.svgSize," ").concat(f.svgSize),fill:"currentColor",stroke:"none"},c),r.a.createElement("defs",null,r.a.createElement("filter",{id:"b",width:"116.7%",height:"116.7%",x:"-8.3%",y:"-8.3%",filterUnits:"objectBoundingBox"},r.a.createElement("feMorphology",{in:"SourceAlpha",operator:"dilate",radius:".5",result:"shadowSpreadOuter1"}),r.a.createElement("feOffset",{in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),r.a.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"2.5"}),r.a.createElement("feColorMatrix",{in:"shadowBlurOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"})),r.a.createElement("circle",{id:"a",cx:f.svgSize/2,cy:f.svgSize/2,r:f.tableSize/2,stroke:"none"})),r.a.createElement("g",{fill:"#D8D8D8",stroke:"none"},f.seats&&f.seats.length>0&&f.seats.map(function(e){return r.a.createElement("rect",{key:e.id,width:f.seatWidth,height:f.seatHeight,x:e.seatStartX,y:e.seatStartY,opacity:"0.7",transform:"rotate(".concat(e.rotate," ").concat(e.seatCenterX," ").concat(e.seatCenterY,")"),rx:"7"})})),r.a.createElement("use",{xlinkHref:"#a",fill:"#000",filter:"url(#b)"}),r.a.createElement("use",{xlinkHref:"#a",fill:"currentColor"}))},h=function(e){var t=e.seatsCount,a=void 0===t?0:t,c=Object(l.a)(e,["seatsCount"]),o=Object(n.useState)({seats:[],svgSize:72,tableSize:54,tableOffset:9,seatWidth:26,seatHeight:18,seatOffsetY:2,seatRx:7,spaceBetweenSeats:10,angleSpace:14}),i=Object(s.a)(o,2),f=i[0],h=i[1];return Object(n.useEffect)(function(){var e=[],t=[],s=54,n=72,r=f.spaceBetweenSeats,c=f.seatWidth,l=f.seatHeight,o=f.tableOffset,i=(f.seatOffsetY,f.angleSpace),m=Math.ceil(a/4);if(console.log("maxSeatsEachBorder",m),a>0){for(var d=(n=(s=(4*c*m+4*(m-1)*r+4*i*2)/4)+2*o)/2,S=n/2,b=0;b<4;b++){var g=90*b+90,v=2*Math.PI*b/a,w=Math.cos(v)*s/2+d,E=Math.sin(v)*s/2+S;t.push({step:v,rotate:g,count:0,seatCenterX:w,seatCenterY:E,seats:[]})}for(var p=0;p<a;p++){var O=p%4;t[O].count+=1,console.log("groupIndex --- ".concat(O," seatID === seat_").concat(p)),t[O].seats.push({id:"seat_".concat(p),rotate:t[O].rotate,seatCenterX:t[O].seatCenterX,seatCenterY:t[O].seatCenterY,seatStartX:t[O].seatCenterX,seatStartY:t[O].seatCenterY})}for(var C=0;C<t.length;C++){var x=C%4,k=t[C].seats.length;if(k>0){var z=(c*k+r*(k-1>0?k-1:0))/2,_=0,j=1;0===x?(_=S+z-c,j=-1):1===x?(_=d-z,j=1):2===x?(_=S-z,j=1):3===x&&(_=d+z-c,j=-1);for(var Y=0;Y<k;Y++){var X=_+j*(r*Y+c*Y);Y%2?1===x||3===x?(t[C].seats[Y].seatStartX=X,t[C].seats[Y].seatStartY=t[C].seats[Y].seatCenterY-l/2):(t[C].seats[Y].seatStartY=X,t[C].seats[Y].seatStartX=t[C].seats[Y].seatCenterX-l/2):(console.log("startPoint",_),1===x||3===x?(t[C].seats[Y].seatStartX=X,t[C].seats[Y].seatStartY=t[C].seats[Y].seatCenterY-l/2):(t[C].seats[Y].seatStartY=X,t[C].seats[Y].seatStartX=t[C].seats[Y].seatCenterX-l/2))}}e.push(t[C].seats)}console.table(t)}h(function(t){return Object(u.a)({},t,{seats:e,svgSize:n,tableSize:s})})},[a]),r.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:f.svgSize,height:f.svgSize,viewBox:"0 0 ".concat(f.svgSize," ").concat(f.svgSize),style:{backgroundColor:"grey"},fill:"currentColor",stroke:"none"},c),r.a.createElement("rect",{width:f.tableSize,height:f.tableSize,x:"9",y:"9",rx:"12",stroke:"none"}),r.a.createElement("g",{fill:"#D8D8D8",stroke:"none"},f.seats&&f.seats.length>0&&f.seats.map(function(e,t){return e&&e.length>0&&e.map(function(e){return r.a.createElement("rect",{key:e.id,"data-key":e.id,width:t%2===1?f.seatWidth:f.seatHeight,height:t%2===1?f.seatHeight:f.seatWidth,x:e.seatStartX,y:e.seatStartY,opacity:"1",rx:"7"})})})))},m=function(){var e=Object(n.useState)(8),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(4),o=Object(s.a)(l,2),u=o[0],m=o[1];return r.a.createElement("div",{className:"app-wrap"},r.a.createElement("div",{className:"table-tool-header"},r.a.createElement(i,{count:u,setSeats:m,title:"Seats for Rectangle Table",desc:"Select the number of seats"}),r.a.createElement(i,{count:a,setSeats:c,title:"Seats for Circular Table",desc:"Select the number of seats"})),r.a.createElement("div",{className:"table-area"},r.a.createElement("div",{className:"table-area__inner"},r.a.createElement(h,{width:320,height:320,seatsCount:u})),r.a.createElement("div",{className:"table-area__inner"},r.a.createElement(f,{seatsCount:a}))))};Object(c.render)(r.a.createElement(m,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(15)}},[[7,2,1]]]);
//# sourceMappingURL=main.98c4272f.chunk.js.map